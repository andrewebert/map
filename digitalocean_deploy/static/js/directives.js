// Generated by CoffeeScript 1.7.1
app.directive('resizeable', function($window) {
  return function($scope) {
    $scope.initializeWindowSize = function() {
      var BASE_HEIGHT, BASE_WIDTH, MARGIN_BOTTOM, MARGIN_LEFT, MARGIN_RIGHT, MARGIN_TOP, height, width;
      MARGIN_LEFT = 10;
      MARGIN_RIGHT = 10;
      MARGIN_TOP = 10;
      MARGIN_BOTTOM = 10;
      BASE_WIDTH = 1000;
      BASE_HEIGHT = 506;
      width = window.innerWidth - MARGIN_LEFT - MARGIN_RIGHT;
      height = window.innerHeight - MARGIN_TOP - MARGIN_BOTTOM;
      $scope.base_scale = Math.max(Math.min(width / BASE_WIDTH, height / BASE_HEIGHT), 1);
      $scope.mapWidth = BASE_WIDTH * $scope.base_scale;
      $scope.mapHeight = BASE_HEIGHT * $scope.base_scale;
      return calculate_scale($scope, 0, 0, 0);
    };
    $scope.initializeWindowSize();
    return angular.element($window).bind('resize', function() {
      $scope.initializeWindowSize();
      return $scope.$apply();
    });
  };
});
