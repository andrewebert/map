// Generated by CoffeeScript 1.7.1
var __indexOf = [].indexOf || function(item) { for (var i = 0, l = this.length; i < l; i++) { if (i in this && this[i] === item) return i; } return -1; };

app.directive('history', function() {
  return function($scope) {
    var history;
    history = function() {
      return history_data[$scope.year()];
    };
    $scope.history_text = function() {
      var _ref;
      return (_ref = history()) != null ? _ref.text : void 0;
    };
    return $scope.highlighted = function(country) {
      var highlighted, _ref, _ref1, _ref2;
      highlighted = (_ref = history()) != null ? (_ref1 = _ref.highlighted) != null ? _ref1.split(" ") : void 0 : void 0;
      if (highlighted && (_ref2 = country.code, __indexOf.call(highlighted, _ref2) >= 0)) {
        return " highlighted";
      } else {
        return "";
      }
    };
  };
});
